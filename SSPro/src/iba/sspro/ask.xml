<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" 
       "http://www.ibatis.com/dtd/sql-map-2.dtd" >
       
<sqlMap namespace="ask">

  <insert id="insert" parameterClass="sspro.VO.AskVO">
  insert into member_space (ask_id, ask_startdate, ask_finishdate, ask_memo, ask_image,
                            amember_id,spacepost_id,ask_state) 
                   values ('A'||lpad(seq_A.nextval,3,0),#ask_startdate# ,#ask_finishdate#,#ask_memo#,
                   #ask_image#,#amember_id#,#spacepost_id#,'대기')              
  </insert>
  
  <select id="select" parameterClass="String" resultClass="sspro.VO.AskVO">
   select ask_id, ask_startdate, ask_finishdate, ask_memo, ask_image, amember_id, spacepost_id, ask_state
   from ask where ask_id=#ask_id#    
  </select>
  
  <select id="selectAll" resultClass="sspro.VO.AskVO">
   select ask_id, ask_startdate, ask_finishdate, ask_memo, ask_image,amember_id,spacepost_id,ask_state
   from ask 
  </select>	

  <delete id="delete" parameterClass="String">
    delete ask where ask_id=#ask_id# 
  </delete>
  
  <update id="update" parameterClass="sspro.VO.AskVO">
   update ask 
   set ask_startdate=#ask_startdate#
       ask_finishdate=#ask_finishdate#
       ask_memo=#ask_memo#
       ask_image=#ask_image#
   where where ask_id=#ask_id# 
                            
  </update>
  
  <update id="stateupdate" parameterClass="sspro.VO.AskVO"><!-- 보류  -->
  	update ask set ASK_STATE=#ask_state# where ask_id=#ask_id# 
  </update>
  
</sqlMap>